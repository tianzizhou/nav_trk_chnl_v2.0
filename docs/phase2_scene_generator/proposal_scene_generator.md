# 合成场景生成器 — 技术方案文档

## 1. 概述与目标

场景生成器负责构建仿真所需的全部输入数据，包括：己方/目标无人机的飞行轨迹、
合成双目图像对、以及完整的 Ground Truth 标注数据。

## 2. 需求分析

- 支持 8 类典型空战场景（S1~S8）
- 每个场景可参数化配置（速度、距离、数量、持续时间）
- 输出合成立体图像对（1920×1080，左右各一张）
- 提供逐帧 Ground Truth（3D 位置、速度、检测框、遮挡状态）
- 支持噪声和运动模糊的可配置添加

## 3. 候选方案对比

| 维度 | 纯数学仿真 | 3D渲染引擎(UE/Unity) | 混合方案(本项目) |
|------|:----------:|:--------------------:|:---------------:|
| 实现复杂度 | ★ | ★★★★★ | ★★ |
| 图像真实感 | ★ | ★★★★★ | ★★ |
| GT精确性 | ★★★★★ | ★★★★ | ★★★★★ |
| 运行速度 | ★★★★★ | ★★ | ★★★★ |
| 环境依赖 | 无 | GPU+引擎 | OpenCV |

## 4. 推荐方案

采用 **数学仿真 + 简化图像合成** 的混合方案：
- 轨迹生成：纯数学运动学模型
- 图像合成：天空梯度背景 + 几何体投影 + 噪声/模糊
- 重点在于**GT精确性**，为下游算法验证提供可靠基准

## 5. 8 类场景设计依据

| 场景 | 关键参数 | 验证目标 |
|------|----------|----------|
| S1 正面迎头 | 闭合速度500km/h, 2km起始 | 深度估计+TTC |
| S2 高速交叉 | 相对速度~1200km/h, 侧方 | 高速跟踪连续性 |
| S3 尾追 | 闭合速度100km/h, 1.5km起始 | 远距小目标 |
| S4 多目标 | 5架，多方向 | 多目标ID管理 |
| S5 机动 | 正弦机动，200m振幅 | EKF预测鲁棒性 |
| S6 远距离 | 1500~2000m | 小目标检测灵敏度 |
| S7 杂波 | 高虚警率设置 | FAR控制 |
| S8 遮挡 | 两目标交叉路径 | 跟踪恢复 |

## 6. 风险评估

| 风险 | 缓解 |
|------|------|
| 合成图像过于简单 | 添加噪声+模糊增加难度 |
| 轨迹不够真实 | 支持正弦机动模型 |

## 7. 参考资料

1. AirSim object detection API documentation
2. MOT benchmark dataset format specification
